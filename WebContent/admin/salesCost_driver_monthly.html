<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="Metro, a sleek, intuitive, and powerful framework for faster and easier web development for Windows Metro Style.">
    <meta name="keywords" content="HTML, CSS, JS, JavaScript, framework, metro, front-end, frontend, web development">
    <meta name="author" content="Sergey Pimenov and Metro UI CSS contributors">

    <link rel='shortcut icon' type='image/x-icon' href='../favicon.ico' />

    <title>株式会社ケー・アールライン</title>

    <link href="../css/metro.css" rel="stylesheet">
    <link href="../css/metro-icons.css" rel="stylesheet">
    <link href="../css/metro-responsive.css" rel="stylesheet">

    <script src="../js/jquery-2.1.3.min.js"></script>
    <script src="../js/jquery.dataTables.min.js"></script>

    <script src="../js/metro.js"></script>

    <style>
        html, body {
            height: 100%;
        }
        body {
        }
        .page-content {
            padding-top: 3.125rem;
            min-height: 100%;
            height: 100%;
        }
        .table .input-control.checkbox {
            line-height: 1;
            min-height: 0;
            height: auto;
        }

        @media screen and (max-width: 800px){
            #cell-sidebar {
                flex-basis: 52px;
            }
            #cell-content {
                flex-basis: calc(100% - 52px);
            }
        }
    </style>

    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
		    google.charts.load("current", {packages:['table', 'gauge', 'corechart']});
		    google.charts.setOnLoadCallback(draw_sort);

		function draw_sort() {
			// データ定義
			var data = new google.visualization.arrayToDataTable([
			    ['名前', '経費', '売上', 'フルタイム', '対象年月'],
			    ['平坂', 1000000, 2000000, true,         201512],
			    ['安藤', 800000,  1500000, false,        201512],
			    ['北村', 1350000, 1900000, true,         201512],
			    ['渡邊', 1550000, 2400000, true,         201512],
			    ['山下', 1750000, 4000000, true,         201512],
			    ['清水', 1250000, 3000000, true,         201512],
			    ['Ｇさん', 2250000, 6000000, true,         201512],
			    ['Ｈさん', 1250000, 3000000, true,         201512],
			    ['Ｉさん', 3250000, 5000000, true,         201512],
			    ['Ｊさん',   700000,  2000000, true,         201512],
			]);


			// テーブルの作成
			var formatter = new google.visualization.NumberFormat({pattern: '\#,###'});
			formatter.format(data, 1);
			formatter.format(data, 2);
			var formatter_year = new google.visualization.NumberFormat({pattern: '######'});
			formatter_year.format(data, 4);

			var table_option = {showRowNumber: true};
			var table = new google.visualization.Table(document.getElementById('table_sort_div'));
			table.draw(data, table_option);


			// DataView の作成
			var vdata = new google.visualization.DataView(data);
			vdata.setColumns([0, 1, 2]);


			// グラフの作成
			var chart_option = {hAxis:{format:'\#,###'}};
			var chart = new google.visualization.BarChart(document.getElementById('chart_sort_div'));
			chart.draw(vdata, chart_option);

			// テーブルで選択された時にグラフを選択する
			google.visualization.events.addListener(table, 'select', function() {
			    chart.setSelection(table.getSelection());
			});

			// グラフで選択された時にテーブルを選択する
			 google.visualization.events.addListener(chart, 'select', function() {
			     var selection = chart.getSelection();
			     for (var i = 0; i < selection.length; i++) {
			        // 列情報を除去
			        selection[i].column = null;
			     }    
			     table.setSelection(selection);
			 });
			 
			 // テーブルの sort イベントでグラフをソートする関数を呼び出す。
			 google.visualization.events.addListener( table, 'sort', function(event) {
			     // イベントが発生した列でデータをソート(DataView ではない)
			     data.sort([{column: event.column, desc: !event.ascending}]);
			 
			     // グラフの再描画
			     chart.draw(vdata, chart_option);
			 
			     // テーブルの再描画
			     table_option['sortAscending'] = event.ascending; // ソート昇降順
			     table_option['sortColumn'] = event.column; // ソート列
			     table.draw(data, table_option);
			 
			     // テーブルの選択状態をクリア
			     table.setSelection(null);
			 });
		}
    </script>
    <script>
        function pushMessage(t){
            var mes = 'Info|Implement independently';
            $.Notify({
                caption: mes.split("|")[0],
                content: mes.split("|")[1],
                type: t
            });
        }

        $(function(){
            $('.sidebar').on('click', 'li', function(){
                if (!$(this).hasClass('active')) {
                    $('.sidebar li').removeClass('active');
                    $(this).addClass('active');
                }
            })
        })
    </script>
</head>
<body class="bg-steel">
    <div class="app-bar fixed-top darcula" data-role="appbar">
        <a href="./home_notice.html" class="app-bar-element branding" style="background-color:#CEDBF2"><img style="width: 113px;" src="../img/logo.png" alt="ケー・アールライン"></a>
        <span class="app-bar-divider"></span>
        <ul class="app-bar-menu">
            <li><a href="./home_notice.html">HOME</a></li>
            <li>
                <a href="" class="dropdown-toggle">点呼管理</a>
                <ul class="d-menu" data-role="dropdown">
                    <li><a href="./roll_call_add.html">
                        <span class="mif-file-text icon"></span>
                        <span class="title">点呼記録表入力</span>
                    </a></li>
                    <li><a href="./roll_call_list.html">
                        <span class="mif-list-numbered icon"></span>
                        <span class="title">【処理中】点呼記録表一覧</span>
                    </a></li>
                    <li><a href="./roll_call_search.html">
                        <span class="mif-search icon"></span>
                        <span class="title">点呼記録表検索</span>
                    </a></li>
                </ul>
            </li>
            <li>
                <a href="" class="dropdown-toggle">日常点検</a>
                <ul class="d-menu" data-role="dropdown">
                    <li><a href="./inspection_add.html">
                        <span class="mif-file-text icon"></span>
                        <span class="title">日常点検実施表入力</span>
                    </a></li>
                    <li><a href="./inspection_list.html">
                        <span class="mif-list-numbered icon"></span>
                        <span class="title">日常点検実施表一覧</span>
                    </a></li>
                </ul>
            </li>
            <li>
                <a href="" class="dropdown-toggle">運送日報</a>
                <ul class="d-menu" data-role="dropdown">
                    <li><a href="./driving_report_add.html">
                        <span class="mif-file-text icon"></span>
                        <span class="title">運送日報入力</span>
                    </a></li>
                    <li><a href="./driving_report_list.html">
                        <span class="mif-list icon"></span>
                        <span class="title">運送日報一覧</span>
                    </a></li>
                    <li><a href="./driving_report_search.html">
                        <span class="mif-search icon"></span>
                        <span class="title">運送日報検索</span>
                    </a></li>
                </ul>
            </li>
            <li>
                <a href="" class="dropdown-toggle">請求書</a>
                <ul class="d-menu" data-role="dropdown">
                    <li><a href="./bill_list.html">
                        <span class="mif-list icon"></span>
                        <span class="title">未締めデータ一覧</span>
                    </a></li>
                    <li><a href="./bill_close.html">
                        <span class="mif-checkmark icon"></span>
                        <span class="title">請求書締め</span>
                    </a></li>
                    <li><a href="./bill_search.html">
                        <span class="mif-search icon"></span>
                        <span class="title">請求書検索</span>
                    </a></li>
                </ul>
            </li>
            <li class="active" style="background-color: #59cde2;">
                <a href="" class="dropdown-toggle">売上・経費</a>
                <ul class="d-menu" data-role="dropdown">
                    <li><a href="./salesCost_driver_daily.html">
                        <span class="mif-chart-bars icon"></span>
                        <span class="title">日次運転手別売上・経費</span>
                    </a></li>
                    <li><a href="./salesCost_truck_daily.html">
                        <span class="mif-file-text icon"></span>
                        <span class="title">日次車別売上・経費</span>
                    </a></li>
                    <li><a href="./salesCost_driver_monthly.html">
                        <span class="mif-list icon"></span>
                        <span class="title">月次運転手別売上・経費検索</span>
                    </a></li>
                    <li><a href="./cost_truck_monthly.html">
                        <span class="mif-file-text icon"></span>
                        <span class="title">月間車別経費</span>
                    </a></li>
<!--                    <li><a href="./salesCost_year.html">
                        <span class="mif-chart-line icon"></span>
                        <span class="title">年度別売上推移</span>
                    </a></li>
-->
                    <li><a href="./sales_month.html">
                        <span class="mif-file-text icon"></span>
                        <span class="title">月次売上集計</span>
                    </a></li>
                    <li><a href="./sales_customer.html">
                        <span class="mif-list icon"></span>
                        <span class="title">得意先別売上集計</span>
                    </a></li>
                </ul>
            </li>
            <li>
                <a href="" class="dropdown-toggle">運行管理</a>
                <ul class="d-menu" data-role="dropdown">
                    <li><a href="./operationControl_bindingWorkHour.html">
                        <span class="mif-user icon"></span>
                        <span class="title">拘束・運転時間管理表</span>
                    </a></li>
                    <li><a href="./operationControl_car_fuelCost.html">
                        <span class="mif-truck icon"></span>
                        <span class="title">個車別燃費推移
                    </a></li>
                    <li><a href="./operationControl_car_status.html">
                        <span class="mif-truck icon"></span>
                        <span class="title">個車別走行距離</span>
                    </a></li>
                </ul>
			</li>
            <li><a href="./master_customer.html">マスター管理</a></li>
        </ul>

        <div class="app-bar-element place-right">
            <span class="dropdown-toggle"><span class="mif-cog"></span> 管理者A</span>
            <div class="app-bar-drop-container padding10 place-right no-margin-top block-shadow fg-dark" data-role="dropdown" data-no-close="true" style="width: 180px">
                <ul class="unstyled-list fg-dark">
                    <li><a href="" class="fg-white3 fg-hover-yellow">ログアウト</a></li>
                </ul>
            </div>
        </div>
    </div>

    <div class="page-content">
        <div class="flex-grid no-responsive-future" style="height: 100%;">

            <div class="row" style="height: 100%">
                <div class="cell auto-size padding20 bg-white" id="cell-content">
                    <ul class="breadcrumbs" style="padding:0px;">
					    <li><h4><a href="#">月次運転手別売上・経費</a></h4></li>
					</ul>
                    <hr class="thin bg-grayLighter">
		            <div class="grid">
		                <div class="row cells12">
							<div class="cell colspan3">
		                        年度
								<div class="input-control select" style="width:100px;">
		                            <select>
		                                <option>2016</option>
		                                <option>2015</option>
		                                <option>2014</option>
		                                <option>2013</option>
		                            </select>
								</div>
		                    </div>
							<div class="cell colspan3">
		                        月
								<div class="input-control select" style="width:80px;">
		                            <select>
		                                <option>01</option>
		                                <option>02</option>
		                                <option>03</option>
		                                <option>04</option>
		                                <option>05</option>
		                                <option>06</option>
		                                <option>07</option>
		                                <option>08</option>
		                                <option>09</option>
		                                <option>10</option>
		                                <option>11</option>
		                                <option>12</option>
		                            </select>
								</div>
		                    </div>
							<div class="cell colspan4">
								<div class="align-right">
			                    	<button class="button primary"><span class="mif-search">検索</button>
			                    </div>
		                    </div>
	                    </div>
					</div>
                    <hr class="thin bg-grayLighter">
			        <div class="cell">
					    <div id="table_sort_div" style="float:left;"></div>
					</div>
			        <div class="cell">
					    <div id="chart_sort_div" style="float:left;width:600px;height:350px;"></div>
					</div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>